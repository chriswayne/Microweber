<html>
<head>
<title>Docs For Class hash_encryption</title>
<link rel="stylesheet" type="text/css" href="../media/style.css">
</head>
<body>

<table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
  <tr>
    <td class="header_top">hash_encryption</td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
  <tr>
    <td class="header_menu">
  		  [ <a href="../classtrees_hash_encryption.html" class="menu">class tree: hash_encryption</a> ]
		  [ <a href="../elementindex_hash_encryption.html" class="menu">index: hash_encryption</a> ]
		  [ <a href="../elementindex.html" class="menu">all elements</a> ]
    </td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
</table>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="200" class="menu">
	<div id="todolist">
			<p><a href="../todolist.html">Todo List</a></p>
	</div>
      <b>Packages:</b><br />
              <a href="../li_hash_encryption.html">hash_encryption</a><br />
            <br /><br />
                        <b>Files:</b><br />
      	  <div class="package">
			<a href="../hash_encryption/_class_hash_crypt_php.html">		class.hash_crypt.php
		</a><br>
	  </div><br />
      
            <b>Classes:</b><br />
        <div class="package">
		    		<a href="../hash_encryption/hash_encryption.html">hash_encryption</a><br />
	  </div>
                </td>
    <td>
      <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">

<h1>Class: hash_encryption</h1>
Source Location: /class.hash_crypt.php<br /><br />



<table width="100%" border="0">
<tr><td valign="top">

<h3><a href="#class_details">Class Overview</a></h3>
<pre></pre><br />
<div class="description">Simple but secure encryption based on hash functions</div><br /><br />
<h4>Author(s):</h4>
<ul>
                            <li>Marc Wöhlken, Quadracom - Partnerschaft für Mediengestaltung, Bremen &lt;<a href="mailto:woehlken@quadracom.de">mailto:woehlken@quadracom.de</a>&gt;</li>
      </ul>




        
          
      
<h4>Version:</h4>
<ul>
  <li>Version 1.0, first public release</li>
</ul>

<h4>Copyright:</h4>
<ul>
  <li>Copyright 2006 Marc W&amp;ouml;hlken, Quadracom - Partnerschaft für Mediengestaltung, Bremen</li>
</ul>

</td>

<td valign="top">
<h3><a href="#class_vars">Variables</a></h3>
<ul>
    <li><a href="../hash_encryption/hash_encryption.html#var$hash_key">$hash_key</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#var$hash_length">$hash_length</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#var$salt">$salt</a></li>
  </ul>
</td>

<td valign="top">
<h3><a href="#class_methods">Methods</a></h3>
<ul>
    <li><a href="../hash_encryption/hash_encryption.html#methodhash_encryption">hash_encryption</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#methoddecrypt">decrypt</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#methodencrypt">encrypt</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#method_generate_iv">_generate_iv</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#method_hash">_hash</a></li>
    <li><a href="../hash_encryption/hash_encryption.html#method_hex2chr">_hex2chr</a></li>
  </ul>
</td>

</tr></table>
<hr />

<table width="100%" border="0"><tr>




<td valign="top">
<h3>Inherited Variables</h3>
</td>

<td valign="top">
<h3>Inherited Methods</h3>
<div class="tags">
</div>
</td>

</tr></table>
<hr />

<a name="class_details"></a>
<h3>Class Details</h3>
<div class="tags">
[line 16]<br />
Simple but secure encryption based on hash functions<br /><br /><p>Basically this is algorithm provides a block cipher in ofb mode (output feedback mode)</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>license:</b>&nbsp;&nbsp;</td><td><a href="http://opensource.org/licenses/gpl-license.php">GNU Public License</a></td>
  </tr>
  <tr>
    <td><b>version:</b>&nbsp;&nbsp;</td><td>Version 1.0, first public release</td>
  </tr>
  <tr>
    <td><b>copyright:</b>&nbsp;&nbsp;</td><td>Copyright 2006 Marc W&amp;ouml;hlken, Quadracom - Partnerschaft für Mediengestaltung, Bremen</td>
  </tr>
  <tr>
    <td><b>author:</b>&nbsp;&nbsp;</td><td>Marc Wöhlken, Quadracom - Partnerschaft für Mediengestaltung, Bremen &lt;<a href="mailto:woehlken@quadracom.de">mailto:woehlken@quadracom.de</a>&gt;</td>
  </tr>
</table>
</div>
</div><br /><br />
<div class="top">[ <a href="#top">Top</a> ]</div><br />

<hr />
<a name="class_vars"></a>
<h3>Class Variables</h3>
<div class="tags">
	<a name="var$hash_key"></a>
	<p></p>
	<h4>$hash_key = <span class="value"></span></h4>
	<p>[line 21]</p>
  Hashed value of the user provided encryption key<br /><br />
  <br />
	<div class="tags">
  <table border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td><b>Type:</b>&nbsp;&nbsp;</td>
      <td>string</td>
    </tr>
      </table>
	</div><br /><br />
	<div class="top">[ <a href="#top">Top</a> ]</div><br />
	<a name="var$hash_length"></a>
	<p></p>
	<h4>$hash_length = <span class="value"></span></h4>
	<p>[line 26]</p>
  String length of hashed values using the current algorithm<br /><br />
  <br />
	<div class="tags">
  <table border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td><b>Type:</b>&nbsp;&nbsp;</td>
      <td>int</td>
    </tr>
      </table>
	</div><br /><br />
	<div class="top">[ <a href="#top">Top</a> ]</div><br />
	<a name="var$salt"></a>
	<p></p>
	<h4>$salt = <span class="value">&nbsp;'Change&nbsp;this&nbsp;to&nbsp;any&nbsp;secret&nbsp;value&nbsp;you&nbsp;like.&nbsp;&quot;d41d8cd98f00b204e9800998ecf8427e&quot;&nbsp;might&nbsp;be&nbsp;a&nbsp;good&nbsp;example.'</span></h4>
	<p>[line 31]</p>
  Secret value added to randomize output<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>var:</b>&nbsp;&nbsp;</td><td>Change this value to add more randomness to your encryption</td>
  </tr>
</table>
</div>

  <br />
	<div class="tags">
  <table border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td><b>Type:</b>&nbsp;&nbsp;</td>
      <td>string</td>
    </tr>
      </table>
	</div><br /><br />
	<div class="top">[ <a href="#top">Top</a> ]</div><br />
</div><br />

<hr />
<a name="class_methods"></a>
<h3>Class Methods</h3>
<div class="tags">
  <hr />
	<a name="methodhash_encryption"></a>
	<h3>constructor hash_encryption <span class="smalllinenumber">[line 41]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed hash_encryption(
string
$key)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Constructor method<br /><br /><p>Used to set key for encryption and decryption.</p><br /><br /><br />




        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$key</b>&nbsp;&nbsp;</td>
        <td>Your secret key used for encryption and decryption</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
  <hr />
	<a name="methoddecrypt"></a>
	<h3>method decrypt <span class="smalllinenumber">[line 88]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string decrypt(
string
$string)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Method used for decryption<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Decrypted message</td>
  </tr>
</table>
</div>
<br /><br />




        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$string</b>&nbsp;&nbsp;</td>
        <td>Message to be decrypted</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
  <hr />
	<a name="methodencrypt"></a>
	<h3>method encrypt <span class="smalllinenumber">[line 54]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string encrypt(
string
$string)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Method used for encryption<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Encrypted message</td>
  </tr>
</table>
</div>
<br /><br />




        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$string</b>&nbsp;&nbsp;</td>
        <td>Message to be encrypted</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
  <hr />
	<a name="method_generate_iv"></a>
	<h3>method _generate_iv <span class="smalllinenumber">[line 159]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string _generate_iv(
)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Generate a random string to initialize encryption<br /><br /><p>This method will return a random binary string IV ( = initialization vector).  The randomness of this string is one of the crucial points of this algorithm as it  is the basis of encryption. The encrypted IV will be added to the encrypted message  to make decryption possible. The transmitted IV will be encoded using the user provided key.</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Binary pseudo random string</td>
  </tr>
  <tr>
    <td><b>see:</b>&nbsp;&nbsp;</td><td>function    hash_encryption</td>
  </tr>
  <tr>
    <td><b>access:</b>&nbsp;&nbsp;</td><td>private</td>
  </tr>
  <tr>
    <td><b>todo:</b>&nbsp;&nbsp;</td><td>Add more random sources.</td>
  </tr>
</table>
</div>
<br /><br />




        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
  <hr />
	<a name="method_hash"></a>
	<h3>method _hash <span class="smalllinenumber">[line 130]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string _hash(
string
$string)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Hashfunction used for encryption<br /><br /><p>This class hashes any given string using the best available hash algorithm.  Currently support for md5 and sha1 is provided. In theory even crc32 could be used  but I don't recommend this.</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Hash value of input message</td>
  </tr>
  <tr>
    <td><b>access:</b>&nbsp;&nbsp;</td><td>private</td>
  </tr>
</table>
</div>
<br /><br />




        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$string</b>&nbsp;&nbsp;</td>
        <td>Message to hashed</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
  <hr />
	<a name="method_hex2chr"></a>
	<h3>method _hex2chr <span class="smalllinenumber">[line 181]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string _hex2chr(
string
$num)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Convert hexadecimal value to a binary string<br /><br /><p>This method converts any given hexadecimal number between 00 and ff to the corresponding ASCII char</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Character representation of input value</td>
  </tr>
  <tr>
    <td><b>access:</b>&nbsp;&nbsp;</td><td>private</td>
  </tr>
</table>
</div>
<br /><br />




        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$num</b>&nbsp;&nbsp;</td>
        <td>Hexadecimal number between 00 and ff</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
</div><br />

        <div class="credit">
		    <hr />
		    Documentation generated on Mon, 20 Mar 2006 23:40:30 +0100 by <a href="http://www.phpdoc.org">phpDocumentor 1.2.3</a>
	      </div>
      </td></tr></table>
    </td>
  </tr>
</table>

</body>
</html>