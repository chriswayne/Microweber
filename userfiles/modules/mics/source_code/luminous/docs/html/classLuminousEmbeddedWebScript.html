<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Luminous: LuminousEmbeddedWebScript Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Luminous&#160;<span id="projectnumber">git-master</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>LuminousEmbeddedWebScript Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="LuminousEmbeddedWebScript" --><!-- doxytag: inherits="LuminousScanner" -->
<p>Superclass for languages which may nest, i.e. web languages.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for LuminousEmbeddedWebScript:</div>
<div class="dyncontent">
<div class="center"><img src="classLuminousEmbeddedWebScript__inherit__graph.png" border="0" usemap="#LuminousEmbeddedWebScript_inherit__map" alt="Inheritance graph"/></div>
<map name="LuminousEmbeddedWebScript_inherit__map" id="LuminousEmbeddedWebScript_inherit__map">
<area shape="rect" id="node2" href="classLuminousScanner.html" title="the base class for all scanners" alt="" coords="41,86,167,117"/><area shape="rect" id="node4" href="classScanner.html" title="Base string scanning class." alt="" coords="69,6,139,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for LuminousEmbeddedWebScript:</div>
<div class="dyncontent">
<div class="center"><img src="classLuminousEmbeddedWebScript__coll__graph.png" border="0" usemap="#LuminousEmbeddedWebScript_coll__map" alt="Collaboration graph"/></div>
<map name="LuminousEmbeddedWebScript_coll__map" id="LuminousEmbeddedWebScript_coll__map">
<area shape="rect" id="node2" href="classLuminousScanner.html" title="the base class for all scanners" alt="" coords="41,86,167,117"/><area shape="rect" id="node4" href="classScanner.html" title="Base string scanning class." alt="" coords="69,6,139,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classLuminousEmbeddedWebScript-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d78a3253fb12358ce13ca7650c6629b"></a><!-- doxytag: member="LuminousEmbeddedWebScript::add_child_scanner" ref="a6d78a3253fb12358ce13ca7650c6629b" args="($name, $scanner)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a6d78a3253fb12358ce13ca7650c6629b">add_child_scanner</a> ($name, $scanner)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">adds a child scanner Adds a child scanner and indexes it against a name, convenience function <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a77deb48d41b8a791900a3d5c50813faf">dirty_exit</a> ($token_name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the exit data to signify the exit is dirty and will need recovering from.  <a href="#a77deb48d41b8a791900a3d5c50813faf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#aa5f8bbf0166d4d6531d33ad3319f85e5">resume</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to recover from a dirty exit.  <a href="#aa5f8bbf0166d4d6531d33ad3319f85e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a08ce3d66e8ff9217903f68c2a2aa6120">script_break</a> ($token_name, $match=null, $pos=null)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for a script terminator tag inside a matched token.  <a href="#a08ce3d66e8ff9217903f68c2a2aa6120"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a9725d508c1411b029b43feeab9491af4">server_break</a> ($token_name, $match=null, $pos=null)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for a server-side script inside a matched token.  <a href="#a9725d508c1411b029b43feeab9491af4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a468d0f77b948817731d32f866b360586">string</a> ($str=null)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter and setter for the source string.  <a href="#a468d0f77b948817731d32f866b360586"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a278925946650e3c9e2094283512697d1">$clean_exit</a> = true</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean exit or inconvenient, mid-token forced exit.  <a href="#a278925946650e3c9e2094283512697d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a9627fb0cc01060902259ee3c9212fad2">$embedded_html</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the source embedded in HTML?  <a href="#a9627fb0cc01060902259ee3c9212fad2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a5fdc96de06443379f9dd48de9b80040b">$embedded_server</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the source embedded in a server-side script (e.g. PHP)?  <a href="#a5fdc96de06443379f9dd48de9b80040b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa33f76adc9164f8160785e8f70ff2420"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$interrupt" ref="aa33f76adc9164f8160785e8f70ff2420" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#aa33f76adc9164f8160785e8f70ff2420">$interrupt</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">I think this is ignored and obsolete. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a298f32256c797af02dbb7dbf3b2d2040"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$script_tags" ref="a298f32256c797af02dbb7dbf3b2d2040" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a298f32256c797af02dbb7dbf3b2d2040">$script_tags</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">closing HTML tag for our code, e.g &lt;/script&gt; <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11065fbf564b463206673a07a0498457"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$server_tags" ref="a11065fbf564b463206673a07a0498457" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a11065fbf564b463206673a07a0498457">$server_tags</a> = '&lt;?'</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Opening tag for server-side code. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#aba37db3108b9a5ec0fda7f18a66fb317">$child_scanners</a> = array()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Child scanners.  <a href="#aba37db3108b9a5ec0fda7f18a66fb317"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#ace2c028e88c2c295c9f92214eff51f2b">$dirty_exit_recovery</a> = array()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recovery patterns for when we reach an untimely interrupt.  <a href="#ace2c028e88c2c295c9f92214eff51f2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLuminousEmbeddedWebScript.html#a463a354548b9e9bf913ca47faf03808a">$exit_state</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of interrupted token, in case of a dirty exit.  <a href="#a463a354548b9e9bf913ca47faf03808a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Superclass for languages which may nest, i.e. web languages. </p>
<p>Web languages get their own special class because they have to deal with server-script code embedded inside them and the potential for languages nested under them (PHP has HTML, HTML has CSS and JavaScript)</p>
<p>The relationship is strictly hierarchical, not recursive descent Meeting a '&lt;?' in CSS bubbles up to HTML and then up to PHP (or whatever). The top-level scanner is ultimately what should have sub-scanner code embedded in its own token stream.</p>
<p>The scanners should be persistent, so only one JavaScript scanner exists even if there are 20 javascript tags. This is so they can keep persistent state, which might be necessary if they are interrupted by server-side tags. For this reason, the <a class="el" href="classLuminousScanner.html#a12220a789d49b7e8f42cf873966b6756" title="the method responsible for tokenization">main()</a> method might be called multiple times, therefore each web sub-scanner should </p>
<ul>
<li>Not rely on keeping state related data in <a class="el" href="classLuminousScanner.html#a12220a789d49b7e8f42cf873966b6756" title="the method responsible for tokenization">main()</a>'s function scope, make it a class variable </li>
<li>flush its token stream every time <a class="el" href="classLuminousScanner.html#a12220a789d49b7e8f42cf873966b6756" title="the method responsible for tokenization">main()</a> is called</li>
</ul>
<p>The init method of the class should be used to set relevant rules based on whether or not the embedded flags are set; and therefore the embedded flags should be set before init is called. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a77deb48d41b8a791900a3d5c50813faf"></a><!-- doxytag: member="LuminousEmbeddedWebScript::dirty_exit" ref="a77deb48d41b8a791900a3d5c50813faf" args="($token_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::dirty_exit </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>token_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the exit data to signify the exit is dirty and will need recovering from. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$token_name</td><td>the name of the token which is being interrupted</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>if no recovery data is associated with the given token. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5f8bbf0166d4d6531d33ad3319f85e5"></a><!-- doxytag: member="LuminousEmbeddedWebScript::resume" ref="aa5f8bbf0166d4d6531d33ad3319f85e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::resume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempts to recover from a dirty exit. </p>
<p>This method should be called on <b>every</b> iteration of the main loop when <a class="el" href="classLuminousEmbeddedWebScript.html#a278925946650e3c9e2094283512697d1" title="Clean exit or inconvenient, mid-token forced exit.">LuminousEmbeddedWebScript::$clean_exit</a> is <b>FALSE</b>. It will attempt to recover from an interruption which left the scanner in the middle of a token. The remainder of the token will be in <a class="el" href="classScanner.html#a17ac6e2abcb54a6dfaa9abaf95ed839e" title="Get the result of the most recent match operation.">Scanner::match()</a> as usual.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the name of the token which was interrupted</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>there is no reason why a scanner should fail to recover from this, and failing is classed as an implementation error, therefore assertions will be failed and errors will be spewed forth. A failure can either be because no recovery regex is set, or that the recovery regex did not match. The former should never have been tagged as a dirty exit and the latter should be rewritten so it must definitely match, even if the match is zero-length or the remainder of the string. </dd></dl>

</div>
</div>
<a class="anchor" id="a08ce3d66e8ff9217903f68c2a2aa6120"></a><!-- doxytag: member="LuminousEmbeddedWebScript::script_break" ref="a08ce3d66e8ff9217903f68c2a2aa6120" args="($token_name, $match=null, $pos=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::script_break </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>token_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>match</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pos</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks for a script terminator tag inside a matched token. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$token_name</td><td>The token name of the matched text </td></tr>
    <tr><td class="paramname">$match</td><td>The string from the last match. If this is left <code>NULL</code> then <a class="el" href="classScanner.html#a17ac6e2abcb54a6dfaa9abaf95ed839e" title="Get the result of the most recent match operation.">Scanner::match()</a> is assumed to hold the match. </td></tr>
    <tr><td class="paramname">$pos</td><td>The position of the last match. If this is left <code>NULL</code> then <a class="el" href="classScanner.html#aa5520e0fc7df54d7a25d75037e6cdc8a" title="Get the position (offset) of the most recent match.">Scanner::match_pos()</a> is assumed to hold the offset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>TRUE</code> if the scanner should break, else <code>FALSE</code> </dd></dl>
<p>This method checks whether the string provided as match contains the string in LuminousEmbeddedWebScript::script_tags. If yes, then it records the substring as $token_name, advances the scan pointer to immediately before the script tags, and returns <code>TRUE</code>. Returning <code>TRUE</code> is a signal that the scanner should break immediately and let its parent scanner take over.</p>
<p>This condition is a 'clean_exit'. </p>

</div>
</div>
<a class="anchor" id="a9725d508c1411b029b43feeab9491af4"></a><!-- doxytag: member="LuminousEmbeddedWebScript::server_break" ref="a9725d508c1411b029b43feeab9491af4" args="($token_name, $match=null, $pos=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::server_break </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>token_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>match</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pos</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks for a server-side script inside a matched token. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$token_name</td><td>The token name of the matched text </td></tr>
    <tr><td class="paramname">$match</td><td>The string from the last match. If this is left <code>NULL</code> then <a class="el" href="classScanner.html#a17ac6e2abcb54a6dfaa9abaf95ed839e" title="Get the result of the most recent match operation.">Scanner::match()</a> is assumed to hold the match. </td></tr>
    <tr><td class="paramname">$pos</td><td>The position of the last match. If this is left <code>NULL</code> then <a class="el" href="classScanner.html#aa5520e0fc7df54d7a25d75037e6cdc8a" title="Get the position (offset) of the most recent match.">Scanner::match_pos()</a> is assumed to hold the offset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>TRUE</code> if the scanner should break, else <code>FALSE</code> </dd></dl>
<p>This method checks whether an interruption by a server-side script tag, LuminousEmbeddedWebScript::server_tags, occurs within a matched token. If it does, this method records the substring up until that point as the provided $token_name, and also sets up a 'dirty exit'. This means that some type was interrupted and we expect to have to recover from it when the server-side language's scanner has ended.</p>
<p>Returning <code>TRUE</code> is a signal that the scanner should break immediately and let its parent scanner take over. </p>

</div>
</div>
<a class="anchor" id="a468d0f77b948817731d32f866b360586"></a><!-- doxytag: member="LuminousEmbeddedWebScript::string" ref="a468d0f77b948817731d32f866b360586" args="($str=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::string </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>s</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Getter and setter for the source string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$s</td><td>The new source string (leave as <code>NULL</code> to use this method as a getter) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current source string</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This method triggers a <a class="el" href="classScanner.html#a89d1448f666d1be3d5037c69f24eb516" title="Reset the scanner.">reset()</a> </dd>
<dd>
Any strings passed into this method are converted to Unix line endings, i.e. <code>\n</code> </dd></dl>

<p>Reimplemented from <a class="el" href="classScanner.html#a577a70297f4d3da0aa2ce4decc66eeea">Scanner</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aba37db3108b9a5ec0fda7f18a66fb317"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$child_scanners" ref="aba37db3108b9a5ec0fda7f18a66fb317" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::$child_scanners = array()<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Child scanners. </p>
<p>Persistent storage of child scanners, name =&gt; scanner (instance) </p>

</div>
</div>
<a class="anchor" id="a278925946650e3c9e2094283512697d1"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$clean_exit" ref="a278925946650e3c9e2094283512697d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::$clean_exit = true</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clean exit or inconvenient, mid-token forced exit. </p>
<p>Signifies whether the program exited due to inconvenient interruption by a parent language (i.e. a server-side langauge), or whether it reached a legitimate break. A server-side language isn't necessarily a dirty exit, but if it comes in the middle of a token it is, because we need to resume from it later. e.g.:</p>
<p>var x = "this is \&lt;?php echo 'a' ?\&gt; string"; </p>

</div>
</div>
<a class="anchor" id="ace2c028e88c2c295c9f92214eff51f2b"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$dirty_exit_recovery" ref="ace2c028e88c2c295c9f92214eff51f2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::$dirty_exit_recovery = array()<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recovery patterns for when we reach an untimely interrupt. </p>
<p>If we reach a dirty exit, when we resume we need to figure out how to continue consuming the rule that was interrupted. So essentially, this will be a regex which matches the rule without start delimiters.</p>
<p>This is a map of rule =&gt; pattern </p>

</div>
</div>
<a class="anchor" id="a9627fb0cc01060902259ee3c9212fad2"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$embedded_html" ref="a9627fb0cc01060902259ee3c9212fad2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::$embedded_html = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is the source embedded in HTML? </p>
<p>Embedded in HTML? i.e. do we need to observe tag terminators like &lt;/script&gt; </p>

</div>
</div>
<a class="anchor" id="a5fdc96de06443379f9dd48de9b80040b"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$embedded_server" ref="a5fdc96de06443379f9dd48de9b80040b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::$embedded_server = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is the source embedded in a server-side script (e.g. PHP)? </p>
<p>Embedded in a server side language? i.e. do we need to break at (for example) &lt;? tags? </p>

</div>
</div>
<a class="anchor" id="a463a354548b9e9bf913ca47faf03808a"></a><!-- doxytag: member="LuminousEmbeddedWebScript::$exit_state" ref="a463a354548b9e9bf913ca47faf03808a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LuminousEmbeddedWebScript::$exit_state = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Name of interrupted token, in case of a dirty exit. </p>
<p>exit state logs our exit state in the case of a dirty exit: this is the rule that was interrupted. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/core/<a class="el" href="scanner_8class_8php.html">scanner.class.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jun 22 2011 18:59:57 for Luminous by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
